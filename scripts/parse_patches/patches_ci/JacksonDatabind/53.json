{
    "num_of_hunks": 16,
    "0": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeBindings.java",
        "replaced_with": "    public Object asKey(Class<?> rawBase) {\n",
        "patch_type": "insert",
        "next_line_no": 302
    },
    "1": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeBindings.java",
        "replaced_with": "        return new AsKey(rawBase, _types, _hashCode);\n    }\n",
        "patch_type": "insert",
        "next_line_no": 304,
        "is_extra_hunk": true
    },
    "2": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeBindings.java",
        "replaced_with": "    final static class AsKey {\n        private final Class<?> _raw;\n        private final JavaType[] _params;\n        private final int _hash;\n\n        public AsKey(Class<?> raw, JavaType[] params, int hash) {\n            _raw = raw ;\n            _params = params;\n            _hash = hash;\n        }\n",
        "patch_type": "insert",
        "next_line_no": 428
    },
    "3": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeBindings.java",
        "replaced_with": "        @Override\n        public int hashCode() { return _hash; }\n\n        @Override\n        public boolean equals(Object o) {\n            if (o == this) return true;\n            if (o == null) return false;\n            if (o.getClass() != getClass()) return false;\n            AsKey other = (AsKey) o;\n\n            if ((_hash == other._hash) && (_raw == other._raw)) {\n                final JavaType[] otherParams = other._params;\n                final int len = _params.length;\n\n                if (len == otherParams.length) {\n                    for (int i = 0; i < len; ++i) {\n                        if (!_params[i].equals(otherParams[i])) {\n                            return false;\n                        }\n                    }\n                    return true;\n                }\n            }\n            return false;\n        }\n",
        "patch_type": "insert",
        "next_line_no": 429,
        "is_extra_hunk": true
    },
    "4": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeBindings.java",
        "replaced_with": "        @Override\n        public String toString() {\n            return _raw.getName()+\"<>\";\n        }\n    }\n",
        "patch_type": "insert",
        "next_line_no": 430,
        "is_extra_hunk": true
    },
    "5": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "from_line_no": 117,
        "to_line_no": 117,
        "replaced_with": "    protected final LRUMap<Object,JavaType> _typeCache = new LRUMap<Object,JavaType>(16, 100);\n",
        "replaced": "    protected final LRUMap<Class<?>, JavaType> _typeCache = new LRUMap<Class<?>, JavaType>(16, 100);\n",
        "patch_type": "replace",
        "next_line_no": 118
    },
    "6": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "replaced_with": "            TypeBindings tb = _bindingsForSubtype(baseType, typeParamCount, subclass);\n",
        "patch_type": "insert",
        "next_line_no": 385
    },
    "7": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "from_line_no": 386,
        "to_line_no": 386,
        "replaced_with": "                newType = baseType.refine(subclass, tb, null, new JavaType[] { baseType });\n",
        "replaced": "                newType = baseType.refine(subclass, TypeBindings.emptyBindings(), null, new JavaType[] { baseType });\n",
        "patch_type": "replace",
        "next_line_no": 387
    },
    "8": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "from_line_no": 388,
        "to_line_no": 388,
        "replaced_with": "                newType = baseType.refine(subclass, tb, baseType, NO_TYPES);\n",
        "replaced": "                newType = baseType.refine(subclass, TypeBindings.emptyBindings(), baseType, NO_TYPES);\n",
        "patch_type": "replace",
        "next_line_no": 389
    },
    "9": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "from_line_no": 392,
        "to_line_no": 402,
        "replaced_with": "                newType = _fromClass(null, subclass, tb);\n",
        "replaced": "                TypeBindings tb = null;\n                if (baseType.containedTypeCount() == typeParamCount) {\n                    if (typeParamCount == 1) {\n                        tb = TypeBindings.create(subclass, baseType.containedType(0));\n                    } else if (typeParamCount == 2) {\n                        tb = TypeBindings.create(subclass, baseType.containedType(0),\n                                baseType.containedType(1));\n                    }\n                }\n                newType = _fromClass(null, subclass,\n                        (tb == null) ? TypeBindings.emptyBindings() : tb);\n",
        "patch_type": "replace",
        "next_line_no": 403
    },
    "10": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "replaced_with": "    private TypeBindings _bindingsForSubtype(JavaType baseType, int typeParamCount, Class<?> subclass)\n    {\n",
        "patch_type": "insert",
        "next_line_no": 456
    },
    "11": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "replaced_with": "        int baseCount = baseType.containedTypeCount();\n        if (baseCount == typeParamCount) {\n            if (typeParamCount == 1) {\n                return TypeBindings.create(subclass, baseType.containedType(0));\n            }\n            if (typeParamCount == 2) {\n                return TypeBindings.create(subclass, baseType.containedType(0),\n                        baseType.containedType(1));\n            }\n            List<JavaType> types = new ArrayList<JavaType>(baseCount);\n            for (int i = 0; i < baseCount; ++i) {\n                types.add(baseType.containedType(i));\n            }\n            return TypeBindings.create(subclass, types);\n        }\n",
        "patch_type": "insert",
        "next_line_no": 458,
        "is_extra_hunk": true
    },
    "12": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "replaced_with": "        return TypeBindings.emptyBindings();\n    }\n",
        "patch_type": "insert",
        "next_line_no": 459,
        "is_extra_hunk": true
    },
    "13": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "from_line_no": 1160,
        "to_line_no": 1162,
        "replaced_with": "        final Object key;\n        if ((bindings == null) || bindings.isEmpty()) {\n            key = rawType;\n            result = _typeCache.get(key); // ok, cache object is synced\n        } else {\n            key = bindings.asKey(rawType);\n        }\n        result = _typeCache.get(key); // ok, cache object is synced\n",
        "replaced": "        boolean cachable = (bindings == null) || bindings.isEmpty();\n        if (cachable) {\n            result = _typeCache.get(rawType);\n",
        "patch_type": "replace",
        "next_line_no": 1163
    },
    "14": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "from_line_no": 1165,
        "to_line_no": 1165,
        "replaced": "            }\n",
        "patch_type": "delete",
        "next_line_no": 1166
    },
    "15": {
        "file_name": "src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java",
        "from_line_no": 1225,
        "to_line_no": 1227,
        "replaced_with": "        _typeCache.putIfAbsent(key, result); // cache object syncs\n",
        "replaced": "        if (cachable) {\n            _typeCache.putIfAbsent(rawType, result);\n        }\n",
        "patch_type": "replace",
        "next_line_no": 1228
    },
    "num_of_hunks_ci": 11
}