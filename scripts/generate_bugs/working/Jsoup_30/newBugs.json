{
    "original": {
        "num_of_hunks": 9,
        "0": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "replaced_with": "import org.jsoup.select.NodeTraversor;\nimport org.jsoup.select.NodeVisitor;\n",
            "patch_type": "insert",
            "next_line_no": 6
        },
        "1": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "from_line_no": 70,
            "to_line_no": 72,
            "replaced_with": "    private final class CleaningVisitor implements NodeVisitor {\n        private int numDiscarded = 0;\n        private final Element root;\n        private Element destination; // current element to append nodes to\n\n        private CleaningVisitor(Element root, Element destination) {\n            this.root = root;\n            this.destination = destination;\n        }\n",
            "replaced": "    private int copySafeNodes(Element root, Element destination) {\n        List<Node> sourceChildren = root.childNodes();\n        int numDiscarded = 0;\n",
            "patch_type": "replace",
            "next_line_no": 73
        },
        "2": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "from_line_no": 74,
            "to_line_no": 74,
            "replaced_with": "        public void head(Node source, int depth) {\n",
            "replaced": "        for (Node source : sourceChildren) {\n",
            "patch_type": "replace",
            "next_line_no": 75
        },
        "3": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "from_line_no": 84,
            "to_line_no": 85,
            "replaced_with": "                    destination = destChild;\n                } else if (source != root) { // not a safe tag, so don't add. don't count root against discarded.\n",
            "replaced": "                    numDiscarded += copySafeNodes(sourceEl, destChild);\n                } else {\n",
            "patch_type": "replace",
            "next_line_no": 86
        },
        "4": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "from_line_no": 87,
            "to_line_no": 87,
            "replaced": "                    numDiscarded += copySafeNodes(sourceEl, destination);\n",
            "patch_type": "delete",
            "next_line_no": 88
        },
        "5": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "replaced_with": "            } else { // else, we don't care about comments, xml proc instructions, etc\n                numDiscarded++;\n",
            "patch_type": "insert",
            "next_line_no": 93
        },
        "6": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "from_line_no": 95,
            "to_line_no": 95,
            "replaced": "        return numDiscarded;\n",
            "patch_type": "delete",
            "next_line_no": 96
        },
        "7": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "replaced_with": "        public void tail(Node source, int depth) {\n            if (source instanceof Element && whitelist.isSafeTag(source.nodeName())) {\n                destination = destination.parent(); // would have descended, so pop destination stack\n            }\n        }\n    }\n",
            "patch_type": "insert",
            "next_line_no": 97
        },
        "8": {
            "file_name": "src/main/java/org/jsoup/safety/Cleaner.java",
            "replaced_with": "    private int copySafeNodes(Element source, Element dest) {\n        CleaningVisitor cleaningVisitor = new CleaningVisitor(source, dest);\n        NodeTraversor traversor = new NodeTraversor(cleaningVisitor);\n        traversor.traverse(source);\n        return cleaningVisitor.numDiscarded;\n",
            "patch_type": "insert",
            "next_line_no": 98
        }
    },
    "method": {
        "failing_tests": [
            "org.jsoup.safety.CleanerTest::testIsValid"
        ],
        "org.jsoup.safety.CleanerTest::testIsValid": {
            "file_path": "src/test/java/org/jsoup/safety/CleanerTest.java",
            "Instance": "Begin: Pos(91, 5)\nEnd: Pos(100, 5)\nSource: /tmp/c4j/Jsoup_30/src/test/java//org/jsoup/safety/CleanerTest.java\nName: testIsValid\nChilds: [StatementAssertion<Begin: Pos(96, 9), End: Pos(96, 57)>,\nStatementAssertion<Begin: Pos(97, 9), End: Pos(97, 60)>,\nStatementAssertion<Begin: Pos(98, 9), End: Pos(98, 60)>,\nStatementAssertion<Begin: Pos(99, 9), End: Pos(99, 60)>,\n]",
            "source": "/tmp/c4j/Jsoup_30/src/test/java//org/jsoup/safety/CleanerTest.java",
            "name": "testIsValid",
            "begin": "Pos(91, 5)",
            "end": "Pos(100, 5)",
            "begin_line_no": 91,
            "end_line_no": 100,
            "child": [
                "Begin: Pos(96, 9)\nEnd: Pos(96, 57)\nSource: StatementExpression\nName: <Unknown>\nChilds: []",
                "Begin: Pos(97, 9)\nEnd: Pos(97, 60)\nSource: StatementExpression\nName: <Unknown>\nChilds: []",
                "Begin: Pos(98, 9)\nEnd: Pos(98, 60)\nSource: StatementExpression\nName: <Unknown>\nChilds: []",
                "Begin: Pos(99, 9)\nEnd: Pos(99, 60)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [
                "    @Test public void testIsValid$catena_0() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                                   /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "    @Test public void testIsValid$catena_1() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        try{ assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                              }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                                /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "    @Test public void testIsValid$catena_2() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        try{ assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                              }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                                /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "    @Test public void testIsValid$catena_3() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        try{ assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                              }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                                /***** ORIGINAL ASSERTION IS HERE *****/\n    }"
            ],
            "func": {
                "0": "    @Test public void testIsValid$catena_0() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                                   /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "1": "    @Test public void testIsValid$catena_1() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        try{ assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                              }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                                /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "2": "    @Test public void testIsValid$catena_2() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        try{ assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                              }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                                /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "3": "    @Test public void testIsValid$catena_3() {\n        String ok = \"<p>Test <b><a href='http://example.com/'>OK</a></b></p>\";\n        String nok1 = \"<p><script></script>Not <b>OK</b></p>\";\n        String nok2 = \"<p align=right>Test Not <b>OK</b></p>\";\n        String nok3 = \"<!-- comment --><p>Not OK</p>\"; // comments and the like will be cleaned\n        try{ assertTrue(Jsoup.isValid(ok, Whitelist.basic()));                                              }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok1, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertFalse(Jsoup.isValid(nok2, Whitelist.basic()));                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertFalse(Jsoup.isValid(nok3, Whitelist.basic()));                                                /***** ORIGINAL ASSERTION IS HERE *****/\n    }"
            }
        }
    },
    "000001000": {
        "failing_tests": [
            "org.jsoup.safety.CleanerTest::testIsValid$catena_3"
        ]
    }
}