{
    "original": {
        "num_of_hunks": 10,
        "0": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "    @Override\n    public int writeBinary(Base64Variant b64variant, InputStream data, int dataLength) throws IOException\n    {\n        if (data == null) {\n            writeNull();\n            return 0;\n        }\n        _verifyValueWrite(\"write Binary value\");\n        if (_nextName == null) {\n            handleMissingName();\n        }\n        try {\n            if (_nextIsAttribute) {\n",
            "patch_type": "insert",
            "next_line_no": 843
        },
        "1": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "                byte[] fullBuffer = toFullBuffer(data, dataLength);\n                _xmlWriter.writeBinaryAttribute(\"\", _nextName.getNamespaceURI(), _nextName.getLocalPart(), fullBuffer);\n            } else if (checkNextIsUnwrapped()) {\n",
            "patch_type": "insert",
            "next_line_no": 844
        },
        "2": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "                writeStreamAsBinary(data, dataLength);\n",
            "patch_type": "insert",
            "next_line_no": 845
        },
        "3": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "            } else {\n                if (_xmlPrettyPrinter != null) {\n                    _xmlPrettyPrinter.writeLeafElement(_xmlWriter,\n                            _nextName.getNamespaceURI(), _nextName.getLocalPart(),\n                            toFullBuffer(data, dataLength), 0, dataLength);\n                } else {\n                    _xmlWriter.writeStartElement(_nextName.getNamespaceURI(), _nextName.getLocalPart());\n                    writeStreamAsBinary(data, dataLength);\n                    _xmlWriter.writeEndElement();\n                }\n            }\n        } catch (XMLStreamException e) {\n            StaxUtil.throwAsGenerationException(e, this);\n        }\n",
            "patch_type": "insert",
            "next_line_no": 846
        },
        "4": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "        return dataLength;\n    }\n",
            "patch_type": "insert",
            "next_line_no": 847
        },
        "5": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "    private void writeStreamAsBinary(InputStream data, int len) throws IOException, XMLStreamException \n    {\n",
            "patch_type": "insert",
            "next_line_no": 848
        },
        "6": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "        byte[] tmp = new byte[3];\n        int offset = 0;\n        int read;\n        while((read = data.read(tmp, offset, Math.min(3 - offset, len))) != -1) {\n            offset += read;\n            len -= read;\n            if(offset == 3) {\n                offset = 0;\n                _xmlWriter.writeBinary(tmp, 0, 3);\n            }\n            if (len == 0) {\n                break;\n            }\n        }\n",
            "patch_type": "insert",
            "next_line_no": 849
        },
        "7": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "        if(offset > 0) {\n            _xmlWriter.writeBinary(tmp, 0, offset);\n        }\n    }\n",
            "patch_type": "insert",
            "next_line_no": 851
        },
        "8": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "    private byte[] toFullBuffer(InputStream data, final int len) throws IOException \n    {\n        byte[] result = new byte[len];\n        int offset = 0;\n",
            "patch_type": "insert",
            "next_line_no": 866
        },
        "9": {
            "file_name": "src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java",
            "replaced_with": "        for (; offset < len; ) {\n            int count = data.read(result, offset, len - offset);\n            if (count < 0) {\n                _reportError(\"Too few bytes available: missing \"+(len - offset)+\" bytes (out of \"+len+\")\");\n            }\n            offset += count;\n        }\n        return result;\n    }\n",
            "patch_type": "insert",
            "next_line_no": 867
        }
    },
    "method": {
        "failing_tests": [
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith0Bytes",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith2Bytes",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith3Bytes",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith4Bytes",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith1Byte"
        ],
        "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith0Bytes": {
            "file_path": "src/test/java/com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "Instance": "Begin: Pos(16, 12)\nEnd: Pos(20, 5)\nSource: /tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java\nName: testWith0Bytes\nChilds: [StatementAssertion<Begin: Pos(19, 9), End: Pos(19, 59)>,\n]",
            "source": "/tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "name": "testWith0Bytes",
            "begin": "Pos(16, 12)",
            "end": "Pos(20, 5)",
            "begin_line_no": 16,
            "end_line_no": 20,
            "child": [
                "Begin: Pos(19, 9)\nEnd: Pos(19, 59)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [],
            "func": {}
        },
        "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith2Bytes": {
            "file_path": "src/test/java/com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "Instance": "Begin: Pos(28, 12)\nEnd: Pos(32, 5)\nSource: /tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java\nName: testWith2Bytes\nChilds: [StatementAssertion<Begin: Pos(31, 9), End: Pos(31, 70)>,\n]",
            "source": "/tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "name": "testWith2Bytes",
            "begin": "Pos(28, 12)",
            "end": "Pos(32, 5)",
            "begin_line_no": 28,
            "end_line_no": 32,
            "child": [
                "Begin: Pos(31, 9)\nEnd: Pos(31, 70)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [],
            "func": {}
        },
        "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith3Bytes": {
            "file_path": "src/test/java/com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "Instance": "Begin: Pos(34, 12)\nEnd: Pos(38, 5)\nSource: /tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java\nName: testWith3Bytes\nChilds: [StatementAssertion<Begin: Pos(37, 9), End: Pos(37, 70)>,\n]",
            "source": "/tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "name": "testWith3Bytes",
            "begin": "Pos(34, 12)",
            "end": "Pos(38, 5)",
            "begin_line_no": 34,
            "end_line_no": 38,
            "child": [
                "Begin: Pos(37, 9)\nEnd: Pos(37, 70)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [],
            "func": {}
        },
        "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith4Bytes": {
            "file_path": "src/test/java/com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "Instance": "Begin: Pos(40, 12)\nEnd: Pos(44, 5)\nSource: /tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java\nName: testWith4Bytes\nChilds: [StatementAssertion<Begin: Pos(43, 9), End: Pos(43, 74)>,\n]",
            "source": "/tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "name": "testWith4Bytes",
            "begin": "Pos(40, 12)",
            "end": "Pos(44, 5)",
            "begin_line_no": 40,
            "end_line_no": 44,
            "child": [
                "Begin: Pos(43, 9)\nEnd: Pos(43, 74)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [],
            "func": {}
        },
        "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith1Byte": {
            "file_path": "src/test/java/com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "Instance": "Begin: Pos(22, 12)\nEnd: Pos(26, 5)\nSource: /tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java\nName: testWith1Byte\nChilds: [StatementAssertion<Begin: Pos(25, 9), End: Pos(25, 70)>,\n]",
            "source": "/tmp/c4j/JacksonXml_6/src/test/java//com/fasterxml/jackson/dataformat/xml/ser/TestBinaryStreamToXMLSerialization.java",
            "name": "testWith1Byte",
            "begin": "Pos(22, 12)",
            "end": "Pos(26, 5)",
            "begin_line_no": 22,
            "end_line_no": 26,
            "child": [
                "Begin: Pos(25, 9)\nEnd: Pos(25, 70)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [],
            "func": {}
        }
    },
    "1001111111": {
        "failing_tests": [
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith4Bytes",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith0Bytes",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith1Byte",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith2Bytes",
            "com.fasterxml.jackson.dataformat.xml.ser.TestBinaryStreamToXMLSerialization::testWith3Bytes"
        ]
    }
}