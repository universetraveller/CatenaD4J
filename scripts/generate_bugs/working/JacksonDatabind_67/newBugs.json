{
    "original": {
        "num_of_hunks": 2,
        "0": {
            "file_name": "src/main/java/com/fasterxml/jackson/databind/deser/BasicDeserializerFactory.java",
            "from_line_no": 1403,
            "to_line_no": 1403,
            "replaced_with": "                deser = _createEnumKeyDeserializer(ctxt, type);\n            } else {\n                deser = StdKeyDeserializers.findStringBasedKeyDeserializer(config, type);\n",
            "replaced": "                return _createEnumKeyDeserializer(ctxt, type);\n",
            "patch_type": "replace",
            "next_line_no": 1404
        },
        "1": {
            "file_name": "src/main/java/com/fasterxml/jackson/databind/deser/BasicDeserializerFactory.java",
            "from_line_no": 1405,
            "to_line_no": 1405,
            "replaced": "            deser = StdKeyDeserializers.findStringBasedKeyDeserializer(config, type);\n",
            "patch_type": "delete",
            "next_line_no": 1406
        }
    },
    "method": {
        "failing_tests": [
            "com.fasterxml.jackson.databind.module.TestCustomEnumKeyDeserializer::testCustomEnumValueAndKeyViaModifier"
        ],
        "com.fasterxml.jackson.databind.module.TestCustomEnumKeyDeserializer::testCustomEnumValueAndKeyViaModifier": {
            "file_path": "src/test/java/com/fasterxml/jackson/databind/module/TestCustomEnumKeyDeserializer.java",
            "Instance": "Begin: Pos(229, 5)\nEnd: Pos(280, 5)\nSource: /tmp/c4j/JacksonDatabind_67/src/test/java//com/fasterxml/jackson/databind/module/TestCustomEnumKeyDeserializer.java\nName: testCustomEnumValueAndKeyViaModifier\nChilds: [StatementAssertion<Begin: Pos(272, 9), End: Pos(272, 46)>,\nStatementAssertion<Begin: Pos(278, 9), End: Pos(278, 36)>,\nStatementAssertion<Begin: Pos(279, 9), End: Pos(279, 73)>,\n]",
            "source": "/tmp/c4j/JacksonDatabind_67/src/test/java//com/fasterxml/jackson/databind/module/TestCustomEnumKeyDeserializer.java",
            "name": "testCustomEnumValueAndKeyViaModifier",
            "begin": "Pos(229, 5)",
            "end": "Pos(280, 5)",
            "begin_line_no": 229,
            "end_line_no": 280,
            "child": [
                "Begin: Pos(272, 9)\nEnd: Pos(272, 46)\nSource: StatementExpression\nName: <Unknown>\nChilds: []",
                "Begin: Pos(278, 9)\nEnd: Pos(278, 36)\nSource: StatementExpression\nName: <Unknown>\nChilds: []",
                "Begin: Pos(279, 9)\nEnd: Pos(279, 73)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [
                "    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public void testCustomEnumValueAndKeyViaModifier$catena_0() throws IOException\n    {\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {        \n            @Override\n            public JsonDeserializer<Enum> modifyEnumDeserializer(DeserializationConfig config,\n                    final JavaType type, BeanDescription beanDesc,\n                    final JsonDeserializer<?> deserializer) {\n                return new JsonDeserializer<Enum>() {\n                    @Override\n                    public Enum deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        final String str = p.getValueAsString().toLowerCase();\n                        return KeyEnum.valueOf(rawClass, str);\n                    }\n                };\n            }\n\n            @Override\n            public KeyDeserializer modifyKeyDeserializer(DeserializationConfig config,\n                    final JavaType type, KeyDeserializer deserializer)\n            {\n                if (!type.isEnumType()) {\n                    return deserializer;\n                }\n                return new KeyDeserializer() {\n                    @Override\n                    public Object deserializeKey(String key, DeserializationContext ctxt)\n                            throws IOException\n                    {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        return Enum.valueOf(rawClass, key.toLowerCase());\n                    }\n                };\n            }\n        });\n        ObjectMapper mapper = new ObjectMapper()\n                .registerModule(module);\n\n        // First, enum value as is\n        KeyEnum key = mapper.readValue(quote(KeyEnum.replacements.name().toUpperCase()),\n                KeyEnum.class);\n        assertSame(KeyEnum.replacements, key);                                                              /***** ORIGINAL ASSERTION IS HERE *****/\n\n        // and then as key\n        EnumMap<KeyEnum,String> map = mapper.readValue(\n                aposToQuotes(\"{'REPlaceMENTS':'foobar'}\"),\n                new TypeReference<EnumMap<KeyEnum,String>>() { });\n        try{ assertEquals(1, map.size());                                                                   }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertSame(KeyEnum.replacements, map.keySet().iterator().next());                              }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public void testCustomEnumValueAndKeyViaModifier$catena_1() throws IOException\n    {\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {        \n            @Override\n            public JsonDeserializer<Enum> modifyEnumDeserializer(DeserializationConfig config,\n                    final JavaType type, BeanDescription beanDesc,\n                    final JsonDeserializer<?> deserializer) {\n                return new JsonDeserializer<Enum>() {\n                    @Override\n                    public Enum deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        final String str = p.getValueAsString().toLowerCase();\n                        return KeyEnum.valueOf(rawClass, str);\n                    }\n                };\n            }\n\n            @Override\n            public KeyDeserializer modifyKeyDeserializer(DeserializationConfig config,\n                    final JavaType type, KeyDeserializer deserializer)\n            {\n                if (!type.isEnumType()) {\n                    return deserializer;\n                }\n                return new KeyDeserializer() {\n                    @Override\n                    public Object deserializeKey(String key, DeserializationContext ctxt)\n                            throws IOException\n                    {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        return Enum.valueOf(rawClass, key.toLowerCase());\n                    }\n                };\n            }\n        });\n        ObjectMapper mapper = new ObjectMapper()\n                .registerModule(module);\n\n        // First, enum value as is\n        KeyEnum key = mapper.readValue(quote(KeyEnum.replacements.name().toUpperCase()),\n                KeyEnum.class);\n        try{ assertSame(KeyEnum.replacements, key);                                                         }catch(Throwable __SHOULD_BE_IGNORED){}\n\n        // and then as key\n        EnumMap<KeyEnum,String> map = mapper.readValue(\n                aposToQuotes(\"{'REPlaceMENTS':'foobar'}\"),\n                new TypeReference<EnumMap<KeyEnum,String>>() { });\n        assertEquals(1, map.size());                                                                        /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertSame(KeyEnum.replacements, map.keySet().iterator().next());                              }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public void testCustomEnumValueAndKeyViaModifier$catena_2() throws IOException\n    {\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {        \n            @Override\n            public JsonDeserializer<Enum> modifyEnumDeserializer(DeserializationConfig config,\n                    final JavaType type, BeanDescription beanDesc,\n                    final JsonDeserializer<?> deserializer) {\n                return new JsonDeserializer<Enum>() {\n                    @Override\n                    public Enum deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        final String str = p.getValueAsString().toLowerCase();\n                        return KeyEnum.valueOf(rawClass, str);\n                    }\n                };\n            }\n\n            @Override\n            public KeyDeserializer modifyKeyDeserializer(DeserializationConfig config,\n                    final JavaType type, KeyDeserializer deserializer)\n            {\n                if (!type.isEnumType()) {\n                    return deserializer;\n                }\n                return new KeyDeserializer() {\n                    @Override\n                    public Object deserializeKey(String key, DeserializationContext ctxt)\n                            throws IOException\n                    {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        return Enum.valueOf(rawClass, key.toLowerCase());\n                    }\n                };\n            }\n        });\n        ObjectMapper mapper = new ObjectMapper()\n                .registerModule(module);\n\n        // First, enum value as is\n        KeyEnum key = mapper.readValue(quote(KeyEnum.replacements.name().toUpperCase()),\n                KeyEnum.class);\n        try{ assertSame(KeyEnum.replacements, key);                                                         }catch(Throwable __SHOULD_BE_IGNORED){}\n\n        // and then as key\n        EnumMap<KeyEnum,String> map = mapper.readValue(\n                aposToQuotes(\"{'REPlaceMENTS':'foobar'}\"),\n                new TypeReference<EnumMap<KeyEnum,String>>() { });\n        try{ assertEquals(1, map.size());                                                                   }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertSame(KeyEnum.replacements, map.keySet().iterator().next());                                   /***** ORIGINAL ASSERTION IS HERE *****/\n    }"
            ],
            "func": {
                "0": "    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public void testCustomEnumValueAndKeyViaModifier$catena_0() throws IOException\n    {\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {        \n            @Override\n            public JsonDeserializer<Enum> modifyEnumDeserializer(DeserializationConfig config,\n                    final JavaType type, BeanDescription beanDesc,\n                    final JsonDeserializer<?> deserializer) {\n                return new JsonDeserializer<Enum>() {\n                    @Override\n                    public Enum deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        final String str = p.getValueAsString().toLowerCase();\n                        return KeyEnum.valueOf(rawClass, str);\n                    }\n                };\n            }\n\n            @Override\n            public KeyDeserializer modifyKeyDeserializer(DeserializationConfig config,\n                    final JavaType type, KeyDeserializer deserializer)\n            {\n                if (!type.isEnumType()) {\n                    return deserializer;\n                }\n                return new KeyDeserializer() {\n                    @Override\n                    public Object deserializeKey(String key, DeserializationContext ctxt)\n                            throws IOException\n                    {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        return Enum.valueOf(rawClass, key.toLowerCase());\n                    }\n                };\n            }\n        });\n        ObjectMapper mapper = new ObjectMapper()\n                .registerModule(module);\n\n        // First, enum value as is\n        KeyEnum key = mapper.readValue(quote(KeyEnum.replacements.name().toUpperCase()),\n                KeyEnum.class);\n        assertSame(KeyEnum.replacements, key);                                                              /***** ORIGINAL ASSERTION IS HERE *****/\n\n        // and then as key\n        EnumMap<KeyEnum,String> map = mapper.readValue(\n                aposToQuotes(\"{'REPlaceMENTS':'foobar'}\"),\n                new TypeReference<EnumMap<KeyEnum,String>>() { });\n        try{ assertEquals(1, map.size());                                                                   }catch(Throwable __SHOULD_BE_IGNORED){}\n        try{ assertSame(KeyEnum.replacements, map.keySet().iterator().next());                              }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "1": "    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public void testCustomEnumValueAndKeyViaModifier$catena_1() throws IOException\n    {\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {        \n            @Override\n            public JsonDeserializer<Enum> modifyEnumDeserializer(DeserializationConfig config,\n                    final JavaType type, BeanDescription beanDesc,\n                    final JsonDeserializer<?> deserializer) {\n                return new JsonDeserializer<Enum>() {\n                    @Override\n                    public Enum deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        final String str = p.getValueAsString().toLowerCase();\n                        return KeyEnum.valueOf(rawClass, str);\n                    }\n                };\n            }\n\n            @Override\n            public KeyDeserializer modifyKeyDeserializer(DeserializationConfig config,\n                    final JavaType type, KeyDeserializer deserializer)\n            {\n                if (!type.isEnumType()) {\n                    return deserializer;\n                }\n                return new KeyDeserializer() {\n                    @Override\n                    public Object deserializeKey(String key, DeserializationContext ctxt)\n                            throws IOException\n                    {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        return Enum.valueOf(rawClass, key.toLowerCase());\n                    }\n                };\n            }\n        });\n        ObjectMapper mapper = new ObjectMapper()\n                .registerModule(module);\n\n        // First, enum value as is\n        KeyEnum key = mapper.readValue(quote(KeyEnum.replacements.name().toUpperCase()),\n                KeyEnum.class);\n        try{ assertSame(KeyEnum.replacements, key);                                                         }catch(Throwable __SHOULD_BE_IGNORED){}\n\n        // and then as key\n        EnumMap<KeyEnum,String> map = mapper.readValue(\n                aposToQuotes(\"{'REPlaceMENTS':'foobar'}\"),\n                new TypeReference<EnumMap<KeyEnum,String>>() { });\n        assertEquals(1, map.size());                                                                        /***** ORIGINAL ASSERTION IS HERE *****/\n        try{ assertSame(KeyEnum.replacements, map.keySet().iterator().next());                              }catch(Throwable __SHOULD_BE_IGNORED){}\n    }",
                "2": "    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public void testCustomEnumValueAndKeyViaModifier$catena_2() throws IOException\n    {\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {        \n            @Override\n            public JsonDeserializer<Enum> modifyEnumDeserializer(DeserializationConfig config,\n                    final JavaType type, BeanDescription beanDesc,\n                    final JsonDeserializer<?> deserializer) {\n                return new JsonDeserializer<Enum>() {\n                    @Override\n                    public Enum deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        final String str = p.getValueAsString().toLowerCase();\n                        return KeyEnum.valueOf(rawClass, str);\n                    }\n                };\n            }\n\n            @Override\n            public KeyDeserializer modifyKeyDeserializer(DeserializationConfig config,\n                    final JavaType type, KeyDeserializer deserializer)\n            {\n                if (!type.isEnumType()) {\n                    return deserializer;\n                }\n                return new KeyDeserializer() {\n                    @Override\n                    public Object deserializeKey(String key, DeserializationContext ctxt)\n                            throws IOException\n                    {\n                        Class<? extends Enum> rawClass = (Class<Enum<?>>) type.getRawClass();\n                        return Enum.valueOf(rawClass, key.toLowerCase());\n                    }\n                };\n            }\n        });\n        ObjectMapper mapper = new ObjectMapper()\n                .registerModule(module);\n\n        // First, enum value as is\n        KeyEnum key = mapper.readValue(quote(KeyEnum.replacements.name().toUpperCase()),\n                KeyEnum.class);\n        try{ assertSame(KeyEnum.replacements, key);                                                         }catch(Throwable __SHOULD_BE_IGNORED){}\n\n        // and then as key\n        EnumMap<KeyEnum,String> map = mapper.readValue(\n                aposToQuotes(\"{'REPlaceMENTS':'foobar'}\"),\n                new TypeReference<EnumMap<KeyEnum,String>>() { });\n        try{ assertEquals(1, map.size());                                                                   }catch(Throwable __SHOULD_BE_IGNORED){}\n        assertSame(KeyEnum.replacements, map.keySet().iterator().next());                                   /***** ORIGINAL ASSERTION IS HERE *****/\n    }"
            }
        }
    },
    "11": {
        "failing_tests": [
            "com.fasterxml.jackson.databind.module.TestCustomEnumKeyDeserializer::testCustomEnumValueAndKeyViaModifier$catena_1",
            "com.fasterxml.jackson.databind.module.TestCustomEnumKeyDeserializer::testCustomEnumValueAndKeyViaModifier$catena_0",
            "com.fasterxml.jackson.databind.module.TestCustomEnumKeyDeserializer::testCustomEnumValueAndKeyViaModifier$catena_2"
        ]
    }
}