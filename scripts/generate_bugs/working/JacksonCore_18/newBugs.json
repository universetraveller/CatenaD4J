{
    "original": {
        "num_of_hunks": 5,
        "0": {
            "file_name": "src/main/java/com/fasterxml/jackson/core/base/GeneratorBase.java",
            "replaced_with": "    protected final static int MAX_BIG_DECIMAL_SCALE = 9999;\n",
            "patch_type": "insert",
            "next_line_no": 53
        },
        "1": {
            "file_name": "src/main/java/com/fasterxml/jackson/core/base/GeneratorBase.java",
            "replaced_with": "        if (Feature.WRITE_BIGDECIMAL_AS_PLAIN.enabledIn(_features)) {\n",
            "patch_type": "insert",
            "next_line_no": 434
        },
        "2": {
            "file_name": "src/main/java/com/fasterxml/jackson/core/base/GeneratorBase.java",
            "replaced_with": "            int scale = value.scale();\n            if ((scale < -MAX_BIG_DECIMAL_SCALE) || (scale > MAX_BIG_DECIMAL_SCALE)) {\n                _reportError(String.format(\n\"Attempt to write plain `java.math.BigDecimal` (see JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN) with illegal scale (%d): needs to be between [-%d, %d]\",\nscale, MAX_BIG_DECIMAL_SCALE, MAX_BIG_DECIMAL_SCALE));\n            }\n            return value.toPlainString();\n        }\n",
            "patch_type": "insert",
            "next_line_no": 435
        },
        "3": {
            "file_name": "src/main/java/com/fasterxml/jackson/core/json/UTF8JsonGenerator.java",
            "from_line_no": 910,
            "to_line_no": 913,
            "replaced_with": "            _writeQuotedRaw(_asString(value));\n",
            "replaced": "            String raw = Feature.WRITE_BIGDECIMAL_AS_PLAIN.enabledIn(_features) ? value.toPlainString() : value.toString();\n            _writeQuotedRaw(raw);\n        } else if (Feature.WRITE_BIGDECIMAL_AS_PLAIN.enabledIn(_features)) {\n            writeRaw(value.toPlainString());\n",
            "patch_type": "replace",
            "next_line_no": 914
        },
        "4": {
            "file_name": "src/main/java/com/fasterxml/jackson/core/json/WriterBasedJsonGenerator.java",
            "from_line_no": 687,
            "to_line_no": 690,
            "replaced_with": "            _writeQuotedRaw(_asString(value));\n",
            "replaced": "            String raw = isEnabled(Feature.WRITE_BIGDECIMAL_AS_PLAIN) ? value.toPlainString() : value.toString();\n            _writeQuotedRaw(raw);\n        } else if (isEnabled(Feature.WRITE_BIGDECIMAL_AS_PLAIN)) {\n            writeRaw(value.toPlainString());\n",
            "patch_type": "replace",
            "next_line_no": 691
        }
    },
    "method": {
        "failing_tests": [
            "com.fasterxml.jackson.core.json.TestJsonGeneratorFeatures::testTooBigBigDecimal"
        ],
        "com.fasterxml.jackson.core.json.TestJsonGeneratorFeatures::testTooBigBigDecimal": {
            "file_path": "src/test/java/com/fasterxml/jackson/core/json/TestJsonGeneratorFeatures.java",
            "Instance": "Begin: Pos(111, 12)\nEnd: Pos(163, 5)\nSource: /tmp/c4j/JacksonCore_18/src/test/java//com/fasterxml/jackson/core/json/TestJsonGeneratorFeatures.java\nName: testTooBigBigDecimal\nChilds: [StatementAssertion<Begin: Pos(154, 25), End: Pos(154, 82)>,\nStatementAssertion<Begin: Pos(156, 25), End: Pos(156, 92)>,\nStatementAssertion<Begin: Pos(157, 25), End: Pos(157, 60)>,\n]",
            "source": "/tmp/c4j/JacksonCore_18/src/test/java//com/fasterxml/jackson/core/json/TestJsonGeneratorFeatures.java",
            "name": "testTooBigBigDecimal",
            "begin": "Pos(111, 12)",
            "end": "Pos(163, 5)",
            "begin_line_no": 111,
            "end_line_no": 163,
            "child": [
                "Begin: Pos(154, 25)\nEnd: Pos(154, 82)\nSource: StatementExpression\nName: <Unknown>\nChilds: []",
                "Begin: Pos(156, 25)\nEnd: Pos(156, 92)\nSource: StatementExpression\nName: <Unknown>\nChilds: []",
                "Begin: Pos(157, 25)\nEnd: Pos(157, 60)\nSource: StatementExpression\nName: <Unknown>\nChilds: []"
            ],
            "splited": [
                "    public void testTooBigBigDecimal$catena_0() throws Exception\n    {\n        JsonFactory f = new JsonFactory();\n        f.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\n\n        // 24-Aug-2016, tatu: Initial check limits scale to [-9999,+9999]\n        BigDecimal BIG = new BigDecimal(\"1E+9999\");\n        BigDecimal TOO_BIG = new BigDecimal(\"1E+10000\");\n        BigDecimal SMALL = new BigDecimal(\"1E-9999\");\n        BigDecimal TOO_SMALL = new BigDecimal(\"1E-10000\");\n\n        for (boolean useBytes : new boolean[] { false, true } ) {\n            for (boolean asString : new boolean[] { false, true } ) {\n                JsonGenerator g;\n                \n                if (useBytes) {\n                    g = f.createGenerator(new ByteArrayOutputStream());\n                } else {\n                    g = f.createGenerator(new StringWriter());\n                }\n                if (asString) {\n                    g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                }\n\n                // first, ok cases:\n                g.writeStartArray();\n                g.writeNumber(BIG);\n                g.writeNumber(SMALL);\n                g.writeEndArray();\n                g.close();\n\n                // then invalid\n                for (BigDecimal input : new BigDecimal[] { TOO_BIG, TOO_SMALL }) {\n                    if (useBytes) {\n                        g = f.createGenerator(new ByteArrayOutputStream());\n                    } else {\n                        g = f.createGenerator(new StringWriter());\n                    }\n                    if (asString) {\n                        g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                    }\n                    try {\n                        g.writeNumber(input);\n                        fail(\"Should not have written without exception: \"+input);                          /***** ORIGINAL ASSERTION IS HERE *****/\n                    } catch (JsonGenerationException e) {\n                        try{ verifyException(e, \"Attempt to write plain `java.math.BigDecimal`\");           }catch(Throwable __SHOULD_BE_IGNORED){}\n                        try{ verifyException(e, \"illegal scale\");                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n                    }\n                    g.close();\n                }\n            }\n        }\n    }",
                "    public void testTooBigBigDecimal$catena_1() throws Exception\n    {\n        JsonFactory f = new JsonFactory();\n        f.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\n\n        // 24-Aug-2016, tatu: Initial check limits scale to [-9999,+9999]\n        BigDecimal BIG = new BigDecimal(\"1E+9999\");\n        BigDecimal TOO_BIG = new BigDecimal(\"1E+10000\");\n        BigDecimal SMALL = new BigDecimal(\"1E-9999\");\n        BigDecimal TOO_SMALL = new BigDecimal(\"1E-10000\");\n\n        for (boolean useBytes : new boolean[] { false, true } ) {\n            for (boolean asString : new boolean[] { false, true } ) {\n                JsonGenerator g;\n                \n                if (useBytes) {\n                    g = f.createGenerator(new ByteArrayOutputStream());\n                } else {\n                    g = f.createGenerator(new StringWriter());\n                }\n                if (asString) {\n                    g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                }\n\n                // first, ok cases:\n                g.writeStartArray();\n                g.writeNumber(BIG);\n                g.writeNumber(SMALL);\n                g.writeEndArray();\n                g.close();\n\n                // then invalid\n                for (BigDecimal input : new BigDecimal[] { TOO_BIG, TOO_SMALL }) {\n                    if (useBytes) {\n                        g = f.createGenerator(new ByteArrayOutputStream());\n                    } else {\n                        g = f.createGenerator(new StringWriter());\n                    }\n                    if (asString) {\n                        g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                    }\n                    try {\n                        g.writeNumber(input);\n                        try{ fail(\"Should not have written without exception: \"+input);                     }catch(Throwable __SHOULD_BE_IGNORED){}\n                    } catch (JsonGenerationException e) {\n                        verifyException(e, \"Attempt to write plain `java.math.BigDecimal`\");                /***** ORIGINAL ASSERTION IS HERE *****/\n                        try{ verifyException(e, \"illegal scale\");                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n                    }\n                    g.close();\n                }\n            }\n        }\n    }",
                "    public void testTooBigBigDecimal$catena_2() throws Exception\n    {\n        JsonFactory f = new JsonFactory();\n        f.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\n\n        // 24-Aug-2016, tatu: Initial check limits scale to [-9999,+9999]\n        BigDecimal BIG = new BigDecimal(\"1E+9999\");\n        BigDecimal TOO_BIG = new BigDecimal(\"1E+10000\");\n        BigDecimal SMALL = new BigDecimal(\"1E-9999\");\n        BigDecimal TOO_SMALL = new BigDecimal(\"1E-10000\");\n\n        for (boolean useBytes : new boolean[] { false, true } ) {\n            for (boolean asString : new boolean[] { false, true } ) {\n                JsonGenerator g;\n                \n                if (useBytes) {\n                    g = f.createGenerator(new ByteArrayOutputStream());\n                } else {\n                    g = f.createGenerator(new StringWriter());\n                }\n                if (asString) {\n                    g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                }\n\n                // first, ok cases:\n                g.writeStartArray();\n                g.writeNumber(BIG);\n                g.writeNumber(SMALL);\n                g.writeEndArray();\n                g.close();\n\n                // then invalid\n                for (BigDecimal input : new BigDecimal[] { TOO_BIG, TOO_SMALL }) {\n                    if (useBytes) {\n                        g = f.createGenerator(new ByteArrayOutputStream());\n                    } else {\n                        g = f.createGenerator(new StringWriter());\n                    }\n                    if (asString) {\n                        g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                    }\n                    try {\n                        g.writeNumber(input);\n                        try{ fail(\"Should not have written without exception: \"+input);                     }catch(Throwable __SHOULD_BE_IGNORED){}\n                    } catch (JsonGenerationException e) {\n                        try{ verifyException(e, \"Attempt to write plain `java.math.BigDecimal`\");           }catch(Throwable __SHOULD_BE_IGNORED){}\n                        verifyException(e, \"illegal scale\");                                                /***** ORIGINAL ASSERTION IS HERE *****/\n                    }\n                    g.close();\n                }\n            }\n        }\n    }"
            ],
            "func": {
                "0": "    public void testTooBigBigDecimal$catena_0() throws Exception\n    {\n        JsonFactory f = new JsonFactory();\n        f.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\n\n        // 24-Aug-2016, tatu: Initial check limits scale to [-9999,+9999]\n        BigDecimal BIG = new BigDecimal(\"1E+9999\");\n        BigDecimal TOO_BIG = new BigDecimal(\"1E+10000\");\n        BigDecimal SMALL = new BigDecimal(\"1E-9999\");\n        BigDecimal TOO_SMALL = new BigDecimal(\"1E-10000\");\n\n        for (boolean useBytes : new boolean[] { false, true } ) {\n            for (boolean asString : new boolean[] { false, true } ) {\n                JsonGenerator g;\n                \n                if (useBytes) {\n                    g = f.createGenerator(new ByteArrayOutputStream());\n                } else {\n                    g = f.createGenerator(new StringWriter());\n                }\n                if (asString) {\n                    g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                }\n\n                // first, ok cases:\n                g.writeStartArray();\n                g.writeNumber(BIG);\n                g.writeNumber(SMALL);\n                g.writeEndArray();\n                g.close();\n\n                // then invalid\n                for (BigDecimal input : new BigDecimal[] { TOO_BIG, TOO_SMALL }) {\n                    if (useBytes) {\n                        g = f.createGenerator(new ByteArrayOutputStream());\n                    } else {\n                        g = f.createGenerator(new StringWriter());\n                    }\n                    if (asString) {\n                        g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                    }\n                    try {\n                        g.writeNumber(input);\n                        fail(\"Should not have written without exception: \"+input);                          /***** ORIGINAL ASSERTION IS HERE *****/\n                    } catch (JsonGenerationException e) {\n                        try{ verifyException(e, \"Attempt to write plain `java.math.BigDecimal`\");           }catch(Throwable __SHOULD_BE_IGNORED){}\n                        try{ verifyException(e, \"illegal scale\");                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n                    }\n                    g.close();\n                }\n            }\n        }\n    }",
                "1": "    public void testTooBigBigDecimal$catena_1() throws Exception\n    {\n        JsonFactory f = new JsonFactory();\n        f.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\n\n        // 24-Aug-2016, tatu: Initial check limits scale to [-9999,+9999]\n        BigDecimal BIG = new BigDecimal(\"1E+9999\");\n        BigDecimal TOO_BIG = new BigDecimal(\"1E+10000\");\n        BigDecimal SMALL = new BigDecimal(\"1E-9999\");\n        BigDecimal TOO_SMALL = new BigDecimal(\"1E-10000\");\n\n        for (boolean useBytes : new boolean[] { false, true } ) {\n            for (boolean asString : new boolean[] { false, true } ) {\n                JsonGenerator g;\n                \n                if (useBytes) {\n                    g = f.createGenerator(new ByteArrayOutputStream());\n                } else {\n                    g = f.createGenerator(new StringWriter());\n                }\n                if (asString) {\n                    g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                }\n\n                // first, ok cases:\n                g.writeStartArray();\n                g.writeNumber(BIG);\n                g.writeNumber(SMALL);\n                g.writeEndArray();\n                g.close();\n\n                // then invalid\n                for (BigDecimal input : new BigDecimal[] { TOO_BIG, TOO_SMALL }) {\n                    if (useBytes) {\n                        g = f.createGenerator(new ByteArrayOutputStream());\n                    } else {\n                        g = f.createGenerator(new StringWriter());\n                    }\n                    if (asString) {\n                        g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                    }\n                    try {\n                        g.writeNumber(input);\n                        try{ fail(\"Should not have written without exception: \"+input);                     }catch(Throwable __SHOULD_BE_IGNORED){}\n                    } catch (JsonGenerationException e) {\n                        verifyException(e, \"Attempt to write plain `java.math.BigDecimal`\");                /***** ORIGINAL ASSERTION IS HERE *****/\n                        try{ verifyException(e, \"illegal scale\");                                           }catch(Throwable __SHOULD_BE_IGNORED){}\n                    }\n                    g.close();\n                }\n            }\n        }\n    }",
                "2": "    public void testTooBigBigDecimal$catena_2() throws Exception\n    {\n        JsonFactory f = new JsonFactory();\n        f.enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\n\n        // 24-Aug-2016, tatu: Initial check limits scale to [-9999,+9999]\n        BigDecimal BIG = new BigDecimal(\"1E+9999\");\n        BigDecimal TOO_BIG = new BigDecimal(\"1E+10000\");\n        BigDecimal SMALL = new BigDecimal(\"1E-9999\");\n        BigDecimal TOO_SMALL = new BigDecimal(\"1E-10000\");\n\n        for (boolean useBytes : new boolean[] { false, true } ) {\n            for (boolean asString : new boolean[] { false, true } ) {\n                JsonGenerator g;\n                \n                if (useBytes) {\n                    g = f.createGenerator(new ByteArrayOutputStream());\n                } else {\n                    g = f.createGenerator(new StringWriter());\n                }\n                if (asString) {\n                    g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                }\n\n                // first, ok cases:\n                g.writeStartArray();\n                g.writeNumber(BIG);\n                g.writeNumber(SMALL);\n                g.writeEndArray();\n                g.close();\n\n                // then invalid\n                for (BigDecimal input : new BigDecimal[] { TOO_BIG, TOO_SMALL }) {\n                    if (useBytes) {\n                        g = f.createGenerator(new ByteArrayOutputStream());\n                    } else {\n                        g = f.createGenerator(new StringWriter());\n                    }\n                    if (asString) {\n                        g.enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\n                    }\n                    try {\n                        g.writeNumber(input);\n                        try{ fail(\"Should not have written without exception: \"+input);                     }catch(Throwable __SHOULD_BE_IGNORED){}\n                    } catch (JsonGenerationException e) {\n                        try{ verifyException(e, \"Attempt to write plain `java.math.BigDecimal`\");           }catch(Throwable __SHOULD_BE_IGNORED){}\n                        verifyException(e, \"illegal scale\");                                                /***** ORIGINAL ASSERTION IS HERE *****/\n                    }\n                    g.close();\n                }\n            }\n        }\n    }"
            }
        }
    },
    "11111": {
        "failing_tests": [
            "com.fasterxml.jackson.core.json.TestJsonGeneratorFeatures::testTooBigBigDecimal$catena_0"
        ]
    }
}