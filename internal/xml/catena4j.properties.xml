<!--
Modified from Defects4J's build file (Copyright (c) 2014-2024 RenÃ© Just, Darioush Jalali, and Defects4J contributors).
-->
<project name="CatenaD4J" basedir="${basedir}">
	<!--
	To specify:
		basedir
		d4j.home
		d4j.project.id
		c4j.dir.projects
	-->

	<!-- Ensure basedir is properly set -->
	<property name="d4j.workdir" value="${basedir}" />
	<property name="d4j.properties" value="defects4j.build.properties" />
	<fail message="Directory ${d4j.workdir} is not a Defects4J working directory!">
		<condition>
			<not> <available file="${d4j.workdir}/${d4j.properties}" /> </not>
		</condition>
	</fail>
	<!-- Check whether d4j.home is set -->
	<fail message="Property d4j.home not set!" unless="d4j.home" />

		<!-- The default location for the projects meta data -->
	<property name="d4j.dir.projects" value="${d4j.home}/framework/projects" />

	<taskdef resource="net/sf/antcontrib/antlib.xml"
		classpath="${d4j.home}/framework/lib/ant-contrib.jar"/>

		<!-- Dependencies used by all projects -->
	<property name="junit.jar"  value="${d4j.home}/framework/projects/lib/junit-4.12-hamcrest-1.3.jar"/>
	<property name="cobertura.jar" value="${d4j.home}/framework/projects/lib/cobertura-2.0.3.jar"/>
	<property name="cobertura.lib" value="${d4j.home}/framework/projects/lib/cobertura-2.0.3-lib"/>

		<!-- Location of libraries of test generation tool-->
	<property name="d4j.dir.lib.testgen.gen" value="${d4j.home}/framework/lib/test_generation/generation"/>
		<!-- Location of runtime libraries of test generation tools-->
	<property name="d4j.dir.lib.testgen.rt" value="${d4j.home}/framework/lib/test_generation/runtime"/>
		<!-- All runtime libraries of test generation tools (necessary to run generated tests)-->
	<path id="d4j.lib.testgen.rt">
		<fileset dir="${d4j.dir.lib.testgen.rt}" includes="*-rt.jar" />
	</path>
	<!-- Location of customized JUnit formatter-->
	<property name="formatter.jar" value="${d4j.home}/framework/lib/formatter.jar"/>
		<!-- Directory of compiled test-gen classes -->
	<property name="d4j.dir.classes.testgen" value="${d4j.workdir}/.classes_testgen"/>
		<!-- Directory of instrumented classes (e.g., for coverage analysis)-->
	<property name="d4j.dir.classes.instrumented" value="${d4j.workdir}/.classes_instrumented"/>
		<!-- Directory of mutated classes-->
	<property name="d4j.dir.classes.mutated" value="${d4j.workdir}/.classes_mutated"/>
		<!-- Directory of coverage reports-->
	<property name="d4j.dir.coverage.report" value="${d4j.workdir}" />
		<!-- Data file that holds coverage information-->
	<property name="d4j.file.cobertura.ser" value="cobertura.ser" />

		<!-- Additional properties such as tests to exclude.
		This property file is automatically generated. -->

	<import file="${c4j.dir.projects}/${d4j.project.id}.export.xml"/>

	<property file="${d4j.workdir}/${d4j.properties}"/>

		<!-- Include build file that defines all export targets -->
	<!--
	<import file="${d4j.home}/framework/projects/defects4j.export.xml"/>
	-->

		<!-- Include project-specific build file -->
	<!--
	<import file="${d4j.dir.projects}/${d4j.project.id}/${d4j.project.id}.build.xml"/>
	-->
</project>
